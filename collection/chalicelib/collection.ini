[main]
input = api
minutes = 60
output = elastic

[file]
outfile = output.json

[elastic]
url = vpc-cs498-cca-6oh4khbu76nvjoiprsqko6u6i4.us-east-1.es.amazonaws.com
port = 443
use_ssl = True
verify_certs = True
connection_class=RequestsHttpConnection

[instance_index]
name = instance_map
doc_type = instance
mappings =
    {
        "properties": {
            "clockSpeed": { "type": "keyword" },
            "gpu": { "type": "keyword" }
        },
        "_default_": {
            "_all": {
                "enabled": false
            },
            "dynamic_templates": [
                {
                    "strings": {
                        "match_mapping_type": "string",
                        "mapping": {
                            "type": "keyword"
                        }
                    }
                }
            ]
        }
    }

[history_index]
name = spot_price_history
doc_type = price
mappings =
    {
        "properties": {
            "Timestamp": { "type": "date" },
            "SpotPrice": { "type": "double" },
            "Attributes": {
                "properties": {
                    "clockSpeed": { "type": "keyword" },
                    "gpu": { "type": "keyword" }
                }
            }
        },
        "_default_": {
            "_all": {
                "enabled": false
            },
            "dynamic_templates": [
                {
                    "strings": {
                        "match_mapping_type": "string",
                        "mapping": {
                            "type": "keyword"
                        }
                    }
                }
            ]
        }
    }
